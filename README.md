# ZeroCanvas

**ZeroCanvas** æ˜¯ä¸€æ¬¾ç„¡å¾Œç«¯ã€ç´” P2P æ¶æ§‹çš„å³æ™‚å”ä½œç™½æ¿å·¥å…·ã€‚  
è®“å¹³æ¿ä¸Šçš„æ‰‹å¯«å…§å®¹ï¼Œé€é WebRTC å³æ™‚åŒæ­¥é¡¯ç¤ºåˆ°é›»è…¦ç€è¦½å™¨ï¼Œå°ˆç‚ºèª²å ‚æŠ•å½±ã€é è·æ•™å­¸èˆ‡ç°¡å ±å±•ç¤ºè¨­è¨ˆã€‚

---

## âœ¨ åŠŸèƒ½ç‰¹è‰²

- **é›¶å¾Œç«¯**ï¼šå®Œå…¨ä¸éœ€è¦ä¼ºæœå™¨ï¼Œæ‰€æœ‰è³‡æ–™é»å°é»å‚³è¼¸ï¼ˆWebRTC DataChannelï¼‰
- **è·¨è£ç½®åŒæ­¥**ï¼šå¹³æ¿æ‰‹å¯« â†’ é›»è…¦å³æ™‚é¡¯ç¤ºï¼Œå»¶é²æ¥µä½
- **QR Code å¿«é€Ÿé€£ç·š**ï¼šHost ç”¢ç”Ÿ Roomï¼ŒClient æƒç¢¼å³åŠ å…¥ï¼Œç„¡éœ€å¸³è™Ÿ
- **å¤šç¨®ç¹ªåœ–å·¥å…·**ï¼šç­†åˆ·ï¼ˆCatmull-Rom å¹³æ»‘æ›²ç·šï¼‰ã€æ©¡çš®æ“¦ã€ç›´ç·šã€çŸ©å½¢
- **å£“åŠ›æ„Ÿæ‡‰**ï¼šæ”¯æ´ PointerEvent pressureï¼Œç­†è§¸ç²—ç´°éš¨å£“åŠ›è®ŠåŒ–
- **è·¨è£ç½®åº§æ¨™ä¸€è‡´**ï¼šåº§æ¨™æ­£è¦åŒ–ï¼ˆ0~1ï¼‰ï¼Œç¢ºä¿ä¸åŒè¢å¹•å°ºå¯¸ä¸‹ç•«é¢å°é½Š
- **é›¢ç·šç·©è¡**ï¼šæ–·ç·šå¾Œç¹¼çºŒç¹ªåœ–ï¼Œé‡é€£å¾Œè‡ªå‹•è£œé€
- **å…¨è¢å¹•æ¨¡å¼**ï¼šHost ç«¯æ”¯æ´å…¨è¢å¹•æŠ•å½±ï¼Œresize å¾Œç•«é¢è‡ªå‹•é‚„åŸ

---

## ğŸ”§ æŠ€è¡“å †ç–Š

| æŠ€è¡“ | èªªæ˜ |
|------|------|
| React 19 + TypeScript | å‰ç«¯æ¡†æ¶ |
| Vite 7 | å»ºç½®å·¥å…· |
| PeerJSï¼ˆWebRTCï¼‰ | P2P é€£ç·šï¼ŒSTUN/TURN ä½¿ç”¨ PeerJS å…¬å…±ä¼ºæœå™¨ |
| MUI v7ï¼ˆMaterial UIï¼‰ | UI å…ƒä»¶åº« |
| qrcode | QR Code ç”¢ç”Ÿ |

---

## ğŸš€ ä½¿ç”¨æ–¹å¼

### è§’è‰²èªªæ˜

| è§’è‰² | è£ç½® | åŠŸèƒ½ |
|------|------|------|
| **Hostï¼ˆæŠ•å½±ç«¯ï¼‰** | é›»è…¦ | å»ºç«‹ç™½æ¿ã€é¡¯ç¤º Room ID èˆ‡ QR Codeã€æ¥æ”¶ä¸¦æ¸²æŸ“ç•«é¢ |
| **Clientï¼ˆç¹ªåœ–ç«¯ï¼‰** | å¹³æ¿ | æƒæ QR Code æˆ–è¼¸å…¥ Room ID åŠ å…¥ã€æ‰‹å¯«ç¹ªåœ– |

### æ“ä½œæ­¥é©Ÿ

1. **Hostï¼ˆé›»è…¦ï¼‰** é–‹å•Ÿç¶²ç«™ï¼Œé»æ“Šã€Œå»ºç«‹ç™½æ¿ã€
2. ç•«é¢ä¸Šæœƒå‡ºç¾ Room ID èˆ‡ QR Code
3. **Clientï¼ˆå¹³æ¿ï¼‰** æƒæ QR Codeï¼Œæˆ–æ‰‹å‹•è¼¸å…¥ Room ID åŠ å…¥
4. é–‹å§‹åœ¨å¹³æ¿ä¸Šæ‰‹å¯«ï¼Œé›»è…¦ç•«é¢å³æ™‚åŒæ­¥é¡¯ç¤º

---

## ğŸ› ï¸ æœ¬æ©Ÿé–‹ç™¼

```bash
# å®‰è£ç›¸ä¾å¥—ä»¶
npm install

# å•Ÿå‹•é–‹ç™¼ä¼ºæœå™¨ï¼ˆéœ€ HTTPS æˆ– localhostï¼‰
npm run dev

# å»ºç½®æ­£å¼ç‰ˆæœ¬
npm run build
```

> WebRTC éœ€è¦ HTTPS ç’°å¢ƒï¼ˆlocalhost é™¤å¤–ï¼‰ã€‚å»ºè­°ä½¿ç”¨ `vite --https` æˆ–éƒ¨ç½²åˆ°éœæ…‹ä¸»æ©Ÿã€‚

---

## ğŸ“¦ éƒ¨ç½²

æœ¬å°ˆæ¡ˆç‚ºç´”éœæ…‹æ‡‰ç”¨ï¼Œå¯éƒ¨ç½²è‡³ä»»ä½•éœæ…‹ä¸»æ©Ÿï¼š

- **GitHub Pages**ï¼šè¨­å®š `vite.config.ts` ä¸­çš„ `base` è·¯å¾‘å¾Œï¼ŒåŸ·è¡Œ `npm run deploy`
- **Cloudflare Pages**ï¼šç›´æ¥é€£çµ GitHub repoï¼Œè‡ªå‹•éƒ¨ç½²

> âš ï¸ PeerJS å…¬å…±ä¼ºæœå™¨ï¼ˆ`0.peerjs.com`ï¼‰æœ‰é€£ç·šæ•¸é™åˆ¶ï¼Œæ­£å¼ä¸Šç·šå»ºè­°è‡ªæ¶ [PeerServer](https://github.com/peers/peerjs-server)ã€‚

---

## ğŸ“ å°ˆæ¡ˆçµæ§‹

```
src/
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ ConnectionStatus.tsx  # é€£ç·šç‹€æ…‹æŒ‡ç¤ºå™¨
â”‚   â”œâ”€â”€ DrawingCanvas.tsx     # é›™å±¤ Canvas ç¹ªåœ–å¼•æ“
â”‚   â”œâ”€â”€ QRCodeDisplay.tsx     # QR Code é¡¯ç¤ºå…ƒä»¶
â”‚   â””â”€â”€ Toolbar.tsx           # ç¹ªåœ–å·¥å…·åˆ—
â”œâ”€â”€ contexts/
â”‚   â””â”€â”€ PeerContext.tsx       # å…¨åŸŸ P2P é€£ç·šç‹€æ…‹
â”œâ”€â”€ hooks/
â”‚   â”œâ”€â”€ useDrawing.ts         # ç¹ªåœ–ç‹€æ…‹èˆ‡å·¥å…·é‚è¼¯
â”‚   â””â”€â”€ usePeer.ts            # PeerJS é€£ç·šç®¡ç†
â”œâ”€â”€ pages/
â”‚   â”œâ”€â”€ LandingPage.tsx       # é¦–é ï¼ˆè§’è‰²é¸æ“‡ï¼‰
â”‚   â”œâ”€â”€ HostPage.tsx          # æŠ•å½±ç«¯ç•«é¢
â”‚   â””â”€â”€ ClientPage.tsx        # ç¹ªåœ–ç«¯ç•«é¢
â”œâ”€â”€ services/
â”‚   â””â”€â”€ syncService.ts        # ç¹ªåœ–äº‹ä»¶åºåˆ—åŒ–èˆ‡å‚³è¼¸
â”œâ”€â”€ types/
â”‚   â”œâ”€â”€ drawing.ts            # ç¹ªåœ–ç›¸é—œå‹åˆ¥å®šç¾©
â”‚   â””â”€â”€ peer.ts               # é€£ç·šç›¸é—œå‹åˆ¥å®šç¾©
â”œâ”€â”€ theme.ts                  # MUI ä¸»é¡Œè¨­å®š
â”œâ”€â”€ App.tsx
â””â”€â”€ main.tsx
```

---

## ğŸ“„ æˆæ¬Š

MIT License
